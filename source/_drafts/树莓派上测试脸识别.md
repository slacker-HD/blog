---
title: armbian 上测试脸识别
tags:
  - 树莓派
  - Linux
  - armbian
comments: true
category: 树莓派
---

还是继续用 orangepi pc plus 下 armbian 做的测试，主要是用 opencv+Face Recognition 的方式进行实现。opencv 大名鼎鼎没什么好介绍的，<a href="https://github.com/ageitgey/face_recognition" target="_blank">Face Recognition</a>则是由 Adam Geitgey 在 GitHub 上创建的一个强大、简单、易上手的人脸识别开源项目，并且配备了完整的开发文档和应用案例，兼容 mac 和 Linux，特别是兼容树莓派系统，经个人测试发现也兼容 armbian。

## 1. 软件安装

安装 Face Recognition 首先是安装必要的软件包，顺便把 python3-opencv 也装上，大致如下，其它的应该提前预装了：

```bash
sudo apt install build-essential cmake gfortran wget curl graphicsmagick libgraphicsmagick1-dev libatlas-base-dev libavcodec-dev libavformat-dev libboost-all-dev libgtk2.0-dev libjpeg-dev liblapack-dev libswscale-dev pkg-config python3-dev python3-numpy python3-pip python3-opencv python3-setuptools python3-wheel python-opencv zip 
```

剩下的就是安装 Face Recognition 库。由于 armbian 不像树莓派有提前编译好的依赖包，使用 pip3 安装需要本机编译且 armbian 的 tmpfs 比较小，所以我把 Face Recognition 的依赖库提出来专门安装以减少编译时对 tmpfs 的压力，在树莓派上其实只要`pip3 install face_recognition`即可：

```bash
pip3 config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple
pip3 install numpy
pip3 install dlib
pip3 install face_recognition
```

## 2. 代码实现
